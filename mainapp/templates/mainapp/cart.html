{% extends 'mainapp/main-cart.html' %}
{% load static %}
{% block content %}
{% if product_list %}


<div class="container">
	<h1 class="my-5 cart-ttl">Корзина<span class="pl-2">({{counter}})</span></h1>

	<div class="cart-header">
		<p>Наименование</p>
		<p>Количество</p>
		<p></p>
	</div>

	{% for item in product_list %}
	<div class="d-flex flex-row border-bottom my-1 py-5 justify-content-between item">
		<form method="POST" action="{% url 'update_conventional_designation' pk=item.id %}">
			{% csrf_token %}
			<input class="input-designation" type="text" name='conventional_designation' autocomplete="off" onchange="form.submit()"  value="{% if item.conventional_designation != '' and item.conventional_designation != None %}{{ item.conventional_designation}} {% else %} {{ item.title }} {% endif %}">
		</form>

		<div class="ml-5">

			<form method="POST" action="{% url 'update_quantity' pk=item.id %}">
				{% csrf_token %}
				<input class="btn-quantity" type="submit" name="plus" value="+">
			</form>
			<form method="POST" action="{% url 'update_quantity' pk=item.id %}">
				{% csrf_token %}
				<input class="input-integer" type="text" name='integer' autocomplete="off" onchange="form.submit()"  value='{{ item.quantity }}' min="1" oninput="this.value=this.value.replace(/[^0-9]/g,'');">
			</form>
			<form method="POST" action="{% url 'update_quantity' pk=item.id %}">
				{% csrf_token %}
				<input class="btn-quantity" type="submit" name="minus" value="-">
			</form>
		</div>

		<div>
			<a class="btn-delete mr-3" href="{% url 'remove_from_cart' pk=item.id %}">Удалить</a>
		</div>
	</div>
	{% endfor %}
</div>

{% else %}
<h1 style="text-align:center;padding: 100px">Ваша корзина пуста</h1>
{% endif %}
{% endblock content %}
